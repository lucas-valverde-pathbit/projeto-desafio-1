<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Produto</title>
    <link rel="stylesheet" href="../css/product.css">
    <script type="module" src="../js/permissions.js"></script>
</head>
<body>
    <script>
        // Verificar permissões
        const { isAuthenticated } = checkPermissions();
        if (!isAuthenticated) {
            window.location.href = 'home.html'; // Redireciona para o login se não houver token
        }
    </script>

    <!-- Botão de Voltar -->
    <div class="back-button">
        <a href="home.html">
            <button class="back-btn">Voltar para Seleção</button>
        </a>
    </div>

    <div class="container">
        <!-- Seção de Produtos -->
        <div class="products-list" id="productsList">
            <!-- Produtos cadastrados serão exibidos aqui -->
        </div>

        <!-- Formulário para Cadastro/Alteração de Produto -->
        <div class="product-form-container" style="display: none;">
            <div style="position: relative;">
                <button class="close-form-btn" onclick="closeForm()" style="position: absolute; right: 0; top: 0; background: red; color: white; border: none; border-radius: 50%; width: 24px; height: 24px; cursor: pointer;">X</button>
                <h2 id="formTitle">Cadastrar Produto</h2>
            </div>
            <form id="productForm">
                <label for="productName">Nome do Produto:</label>
                <input type="text" id="productName" required>

                <label for="productDescription">Descrição:</label>
                <input type="text" id="productDescription" required>

                <label for="productPrice">Preço:</label>
                <input type="number" id="productPrice" required>

                <label for="productStockQuantity">Quantidade em Estoque:</label>
                <input type="number" id="productStockQuantity" required>

                <button type="submit">Salvar Produto</button>
            </form>
        </div>

        <!-- Botão para Adicionar Novo Produto -->
        <button class="add-product-btn" id="addProductBtn">Adicionar Produto</button>
    </div>

    <script type="module" src="../js/product.js"></script>
</body>
</html>
