<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/order.css">
    <title>Criar Pedido</title>
</head>
<body>
    <div class="container">
        <h1>Criar Pedido</h1>
        <form id="orderForm" onsubmit="saveOrder(event)">
            <label for="customerId">Cliente:</label>
            <input type="text" id="customerId" readonly required>
            <button type="button" onclick="showCustomerSelection()">+</button>


            <label for="cep">CEP:</label>
            <input type="text" id="cep" required onblur="fetchAddress()">

            <label for="deliveryAddress">Endereço:</label>
            <input type="text" id="deliveryAddress" required>

            <label for="status">Status:</label>
            <select id="status" required>
                <option value="">Selecione o status</option>
                <option value="pendente">Pendente</option>
                <option value="em_transito">Em transito</option>
                <option value="entregue">Entregue</option>
            </select>

            <div id="productFields">
                <label for="productId">Produto:</label>
                <input type="text" id="productId" readonly required>
                <label for="quantity">Quantidade:</label>
                <input type="number" id="quantity" required min="1">
            <button type="button" onclick="showProductSelection()">+</button>

            </div>

            <button type="button" onclick="addProductField()">Adicionar Produto</button>
            <button type="submit">Adicionar Pedido</button>
        </form>
        <div id="orderCardContainer"></div>
    </div>

    <div id="addOrderModal" class="order-modal" style="display:none;">
        <h3>Adicionar Pedido</h3>
        <form id="addOrderForm" onsubmit="saveOrder(event)">
            <!-- Campos do formulário de adicionar pedido -->
            <button type="button" onclick="closeForm()">Fechar</button>
        </form>
    </div>

    <!-- Modal de Seleção de Cliente -->
    <div id="customerSelectionModal" class="order-modal" style="display:none;">
        <h3>Selecionar Cliente</h3>
        <div id="customerListContainer"></div>
        <button type="button" onclick="closeCustomerSelection()">Fechar</button>
    </div>

    <!-- Modal de Seleção de Produto -->
    <div id="productSelectionModal" class="order-modal" style="display:none;">
        <h3>Selecionar Produto</h3>
        <div id="productListContainer"></div>
        <button type="button" onclick="closeProductSelection()">Fechar</button>
    </div>

    <script src="../js/order.js"></script>
</body>
</html>
